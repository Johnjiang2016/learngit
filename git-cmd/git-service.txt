#在Ubuntu上搭建Git服务器

1.安装git
    sudo api-get install git 在Ubuntu上搭建Git服务器

2.第二步，创建一个git用户，用来运行git服务
    sudo adduser git

3.第三步，创建证书登录
   
   将需要登录的用户id_rsa.pub文件内容拷贝到 Ubuntu服务器 /home/git/.ssh/authorized_keys 这个文件里面 一行一个。
   ( 或者使用命令 cat {需要登录用户id_rsa.pub} >> ~/.ssh/authorized_keys)

4.初始化Git仓库 先选定一个目录作为Git仓库，假定是/srv/sample.git，在/srv目录下输入命令

    sudo git init --bare sample.git 

    #Git就会创建一个裸仓库，裸仓库没有工作区，因为服务器上的Git仓库纯粹是为了共享，
    #所以不让用户直接登录到服务器上去改工作区，
    #并且服务器上的Git仓库通常都以.git结尾。然后，把owner改为git

    sudo chown -R git:git sample.git

5. 禁用shell登录 出于安全考虑，第二步创建的git用户不允许登录shell，这可以通过编辑/etc/passwd文件完成
    
    #编辑/etc/passwd文件

    git:x:1001:1001:,,,:/home/git:/bin/bash 
    改成 
    git:x:1001:1001:,,,:/home/git:/usr/bin/git-shell

6. 第六步，克隆远程仓库
 
    git clone git@172.16.99.130:/srv/sample.git (把 IP 172.16.99.130 换成你的服务器ip)
   